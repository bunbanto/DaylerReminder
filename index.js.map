{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/local-storage-api.js","../src/js/theme-switcher.js","../src/js/markup-tasks.js","../src/js/tasks.js","../src/main.js"],"sourcesContent":["//import { list } from 'postcss';\n\n//import { list } from 'postcss';\n\nconst refs = {\n  body: document.querySelector('body'),\n  btnToggle: document.querySelector('#themeToggle'),\n  btnAdd: document.querySelector('.header-form-btn'),\n  btnDelete: document.querySelector('.task-list-item-btn'),\n  form: document.querySelector('#task-form'),\n  titleInput: document.querySelector('[name=\"taskName\"]'),\n  textInput: document.querySelector('[name=\"taskDescription\"]'),\n  list: document.querySelector('#task-list'),\n  listItem: document.querySelector('.task-list-item'),\n};\nexport default refs;\n","export { getDataFromLocalStorage, addDataToLocalStorage };\nfunction addDataToLocalStorage(key, value) {\n  const normalData = JSON.stringify(value);\n\n  try {\n    localStorage.setItem(key, normalData);\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nfunction getDataFromLocalStorage(key) {\n  try {\n    const lsData = localStorage.getItem(key);\n    if (lsData === null) {\n      return [];\n    }\n\n    const normalData = JSON.parse(lsData);\n\n    return normalData;\n  } catch (error) {\n    console.error(error);\n  }\n}\n","import refs from './refs';\nimport {\n  addDataToLocalStorage,\n  getDataFromLocalStorage,\n} from './local-storage-api';\n\nrefs.btnToggle.addEventListener('click', onClick);\n\nexport function onClick() {\n  if (refs.body.classList.contains('theme-dark')) {\n    refs.body.classList.replace('theme-dark', 'theme-light');\n    addDataToLocalStorage('theme', 'theme-light');\n  } else {\n    refs.body.classList.replace('theme-light', 'theme-dark');\n    addDataToLocalStorage('theme', 'theme-dark');\n  }\n}\n\nexport function startPage() {\n  const savedTheme = getDataFromLocalStorage('theme');\n\n  if (savedTheme === 'theme-dark') {\n    refs.body.classList.replace('theme-light', 'theme-dark');\n  } else {\n    refs.body.classList.replace('theme-dark', 'theme-light');\n  }\n}\n","export function createMarkup(title, text, id) {\n  return `<li class=\"task-list-item\">\n      <button class=\"task-list-item-btn\">Delete</button>\n      <h3>${title}</h3>\n      <p>${text}</p>\n  </li>`;\n}\n","import {\n  addDataToLocalStorage,\n  getDataFromLocalStorage,\n} from './local-storage-api';\n\nimport refs from './refs';\nimport { createMarkup } from './markup-tasks';\n\nexport function onSubmit(event) {\n  event.preventDefault();\n\n  const { taskName, taskDescription } = event.target.elements;\n\n  if (taskName.value.trim() && taskDescription.value.trim()) {\n    const taskData = {\n      title: taskName.value.trim(),\n      text: taskDescription.value.trim(),\n    };\n\n    const existingTasks = getDataFromLocalStorage('tasks') || [];\n    const updatedTasks = [...existingTasks, taskData];\n\n    addDataToLocalStorage('tasks', updatedTasks);\n\n    refs.list.insertAdjacentHTML(\n      'beforeend',\n      createMarkup(taskData.title, taskData.text)\n    );\n\n    refs.form.reset();\n  } else {\n    return;\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const savedTasks = getDataFromLocalStorage('tasks') || [];\n  savedTasks.forEach((task, id) => {\n    refs.list.insertAdjacentHTML(\n      'beforeend',\n      createMarkup(task.title, task.text, id)\n    );\n  });\n\n  // Attach delete event listener\n  refs.list.addEventListener('click', onDeleteTask);\n});\n\nfunction onDeleteTask(event) {\n  if (event.target.classList.contains('task-list-item-btn')) {\n    const taskItem = event.target.closest('.task-list-item');\n    const taskIndex = Array.from(refs.list.children).indexOf(taskItem);\n\n    // Remove task from local storage\n    const tasks = getDataFromLocalStorage('tasks') || [];\n    tasks.splice(taskIndex, 1);\n    addDataToLocalStorage('tasks', tasks);\n\n    // Remove task from DOM\n    taskItem.remove();\n\n    // Re-render the list\n    refs.list.innerHTML = '';\n    const updatedTasks = getDataFromLocalStorage('tasks') || [];\n    updatedTasks.forEach((task, id) => {\n      refs.list.insertAdjacentHTML(\n        'beforeend',\n        createMarkup(task.title, task.text, id)\n      );\n    });\n  }\n}\n","// import {\n//   getDataFromLocalStorage,\n//   addDataToLocalStorage,\n// } from './js/local-storage-api';\n\nimport refs from './js/refs';\nimport { startPage, onClick } from './js/theme-switcher';\nimport { onSubmit } from './js/tasks';\n\ndocument.addEventListener('DOMContentLoaded', startPage);\n// document.addEventListener('DOMContentLoaded', startTask);\nrefs.btnToggle.addEventListener('click', onClick);\n/*\n  Створи список справ.\n  На сторінці є два інпути які має вводиться назва і текст задачі.\n  Після натискання на кнопку \"Add\" завдання додається до списку #task-list.\n\n  У кожної картки має бути кнопка \"Delete\", щоб можна було\n  прибрати завдання зі списку.\n  Список із завданнями має бути доступним після перезавантаження сторінки.\n*/\nrefs.form.addEventListener('submit', onSubmit);\n"],"names":["refs","addDataToLocalStorage","key","value","normalData","error","getDataFromLocalStorage","lsData","onClick","startPage","createMarkup","title","text","id","onSubmit","event","taskName","taskDescription","taskData","updatedTasks","task","onDeleteTask","taskItem","taskIndex","tasks"],"mappings":"ssBAIA,MAAMA,EAAO,CACX,KAAM,SAAS,cAAc,MAAM,EACnC,UAAW,SAAS,cAAc,cAAc,EAChD,OAAQ,SAAS,cAAc,kBAAkB,EACjD,UAAW,SAAS,cAAc,qBAAqB,EACvD,KAAM,SAAS,cAAc,YAAY,EACzC,WAAY,SAAS,cAAc,mBAAmB,EACtD,UAAW,SAAS,cAAc,0BAA0B,EAC5D,KAAM,SAAS,cAAc,YAAY,EACzC,SAAU,SAAS,cAAc,iBAAiB,CACpD,ECbA,SAASC,EAAsBC,EAAKC,EAAO,CACzC,MAAMC,EAAa,KAAK,UAAUD,CAAK,EAEvC,GAAI,CACF,aAAa,QAAQD,EAAKE,CAAU,CACrC,OAAQC,EAAO,CACd,QAAQ,MAAMA,CAAK,CACpB,CACH,CAEA,SAASC,EAAwBJ,EAAK,CACpC,GAAI,CACF,MAAMK,EAAS,aAAa,QAAQL,CAAG,EACvC,OAAIK,IAAW,KACN,GAGU,KAAK,MAAMA,CAAM,CAGrC,OAAQF,EAAO,CACd,QAAQ,MAAMA,CAAK,CACpB,CACH,CClBAL,EAAK,UAAU,iBAAiB,QAASQ,CAAO,EAEzC,SAASA,GAAU,CACpBR,EAAK,KAAK,UAAU,SAAS,YAAY,GAC3CA,EAAK,KAAK,UAAU,QAAQ,aAAc,aAAa,EACvDC,EAAsB,QAAS,aAAa,IAE5CD,EAAK,KAAK,UAAU,QAAQ,cAAe,YAAY,EACvDC,EAAsB,QAAS,YAAY,EAE/C,CAEO,SAASQ,GAAY,CACPH,EAAwB,OAAO,IAE/B,aACjBN,EAAK,KAAK,UAAU,QAAQ,cAAe,YAAY,EAEvDA,EAAK,KAAK,UAAU,QAAQ,aAAc,aAAa,CAE3D,CC1BO,SAASU,EAAaC,EAAOC,EAAMC,EAAI,CAC5C,MAAO;AAAA;AAAA,YAEGF,CAAK;AAAA,WACNC,CAAI;AAAA,QAEf,CCEO,SAASE,EAASC,EAAO,CAC9BA,EAAM,eAAc,EAEpB,KAAM,CAAE,SAAAC,EAAU,gBAAAC,CAAe,EAAKF,EAAM,OAAO,SAEnD,GAAIC,EAAS,MAAM,KAAI,GAAMC,EAAgB,MAAM,OAAQ,CACzD,MAAMC,EAAW,CACf,MAAOF,EAAS,MAAM,KAAM,EAC5B,KAAMC,EAAgB,MAAM,KAAM,CACxC,EAGUE,EAAe,CAAC,GADAb,EAAwB,OAAO,GAAK,CAAA,EAClBY,CAAQ,EAEhDjB,EAAsB,QAASkB,CAAY,EAE3CnB,EAAK,KAAK,mBACR,YACAU,EAAaQ,EAAS,MAAOA,EAAS,IAAI,CAChD,EAEIlB,EAAK,KAAK,OACd,KACI,OAEJ,CAEA,SAAS,iBAAiB,mBAAoB,IAAM,EAC/BM,EAAwB,OAAO,GAAK,CAAA,GAC5C,QAAQ,CAACc,EAAMP,IAAO,CAC/Bb,EAAK,KAAK,mBACR,YACAU,EAAaU,EAAK,MAAOA,EAAK,IAAQ,CAC5C,CACA,CAAG,EAGDpB,EAAK,KAAK,iBAAiB,QAASqB,CAAY,CAClD,CAAC,EAED,SAASA,EAAaN,EAAO,CAC3B,GAAIA,EAAM,OAAO,UAAU,SAAS,oBAAoB,EAAG,CACzD,MAAMO,EAAWP,EAAM,OAAO,QAAQ,iBAAiB,EACjDQ,EAAY,MAAM,KAAKvB,EAAK,KAAK,QAAQ,EAAE,QAAQsB,CAAQ,EAG3DE,EAAQlB,EAAwB,OAAO,GAAK,CAAA,EAClDkB,EAAM,OAAOD,EAAW,CAAC,EACzBtB,EAAsB,QAASuB,CAAK,EAGpCF,EAAS,OAAM,EAGftB,EAAK,KAAK,UAAY,IACDM,EAAwB,OAAO,GAAK,CAAA,GAC5C,QAAQ,CAACc,EAAMP,IAAO,CACjCb,EAAK,KAAK,mBACR,YACAU,EAAaU,EAAK,MAAOA,EAAK,IAAQ,CAC9C,CACA,CAAK,CACF,CACH,CC9DA,SAAS,iBAAiB,mBAAoBX,CAAS,EAEvDT,EAAK,UAAU,iBAAiB,QAASQ,CAAO,EAUhDR,EAAK,KAAK,iBAAiB,SAAUc,CAAQ"}